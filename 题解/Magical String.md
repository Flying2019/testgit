### [链接](https://zjusummer.contest.codeforces.com/group/clkkguw3vK/contest/102657/problem/F)
### 题目大意
我们定义两个字符串是相似的当且仅当这两个字符串向前/向后复制无数遍之后是相同的。

给定一个模式串和 $n$ 个文本串。从文本串中选出尽可能少的串（允许重复选择某个串），要求将这些串按一定顺序拼接起来后的串与模式串相似、
### 题解
考虑一个性质：两个相似的字符串一定存在一种循环位移（即 $s_0=s_1\ , \ s_1=s_2 \cdots\ ,\ s_{n-1}=s_n\ ,\ s_{n}=s_0$），使位移后的字符串的最小循环节相同。

换句话说，我们找到模式串的最小循环节对应的字符串 $s_0$，只要我们选出的文本串拼成的字符串的某种循环位移后的最小循环节与 $s_0$ 相等，即可。

接下来我们考虑有一个字符串 $s'$ 表示将字符串 $s$ 顺序复制无数次组成的字符串。

可以发现，假如我们将文本串从位置 $i$ 开始匹配，最后匹配到某一位置 $i+kn\ (k\in \mathbb{Z}^+)$（对于可以直接匹配文本串的模式串要特判一下）。

可以发现，如果我们把存在字符串匹配区间 $[l,r]$ 看成一条 $l\rightarrow r+1$ 的一条转移边，边权为1，把 $i+kn\ (k\in \mathbb{Z})$ 看成一个点 $i$，可以发现这本质是求图的最小环长度。

可以发现最小环就是
$$\min_{1\leq i,j \leq n}{dis[i][j]+dis[j][i]}$$
随便瞎搞一下最短路就好了。复杂度 $O(n^3)$（其实直接bfs可以做到 $O(n^2)$）。
